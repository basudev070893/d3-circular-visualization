var CircleLoader=function(){function t(t,a,n){r=n?n:g;var i=d3.interpolate(r,a),s=d3.interpolateNumber(r,a);t.attrTween("d",function(t){return function(a){t.endAngle=i(a);o.text(d3.format(".1f")(s(a)*h/p)+" %");return d(t)}}),e=a*h/p}function a(){c.transition().duration(500).ease("back-out").attr("transform","scale(2.1)"),s.transition().duration(500).ease("back-out").attr("transform","scale(2.1)")}var n,e,r,d,i,s,c,o,l=300,u=50,p=2*Math.PI,f=20,g=0,h=100;return{init:function(e,r,g,m,v){n=g,l=m?m:l,f=v?v:f,u=l/6,d=d3.svg.arc().innerRadius(u).outerRadius(u+3).startAngle(0),i=d3.select("#"+e).append("svg").attr("width",l).attr("height",l).attr("class","svg_cercles").append("g").attr("transform","translate("+l/2+","+l/2+")"),s=i.append("path").datum({endAngle:p}).attr("class",r+"_back").attr("d",d),c=i.append("path").datum({endAngle:p}).attr("class",r+"_front").attr("d",d),i.append("text").attr("text-anchor","middle").attr("font-size",f+"px").attr("dy",".35em"),o=i.select("text").attr("class","circle-txt"),c.transition().duration(1e3).call(t,n*p/h).each("end",a)},update:function(r){n=r,c.transition().duration(1e3).call(t,n*p/h,e*p/h).each("end",a)}}};